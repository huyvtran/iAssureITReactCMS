{"ast":null,"code":"var _jsxFileName = \"/home/iassure/Ref Clone/iAssureIT Website/iAssureITReactCMS/webapp/admin/src/CMS/component/blockTemplate/Contactusform/Contactusform.js\";\nimport React from 'react';\nimport './ContactUsForm.css';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport Swal from 'sweetalert';\nimport validate from 'jquery-validation';\naxios.defaults.baseURL = '';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n/*const formValid = formerrors=>{\n  console.log(\"formerrors\",formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val=>{\n  val.length>0 && (valid = false);\n  })\n  return valid;\n  }\n\nconst clientnameRegex = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\nconst emailRegex = RegExp (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n\n*/\n\nexport default class ContactUsForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"name\": \"\",\n      \"email\": \"\",\n      \"Subject\": \"\",\n      \"message\": \"\",\n      \"formerrors\": {\n        clientName: \" \",\n        clientEmail: \" \"\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    $.validator.addMethod(\"emailRegex\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Please enter valid Email Id\");\n    $(\"#ContactUsForm\").validate({\n      rules: {\n        formname: {\n          required: true\n        },\n        formemail: {\n          required: true,\n          emailRegex: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n        },\n        subject: {\n          required: true\n        },\n        message: {\n          required: true\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") == \"formname\") {\n          error.insertAfter(\"#formname\");\n        }\n\n        if (element.attr(\"name\") == \"formemail\") {\n          error.insertAfter(\"#formemail\");\n        }\n        /*if (element.attr(\"name\") == \"subject\"){\n          error.insertAfter(\"#subject\");\n        }\n        if (element.attr(\"name\") == \"message\"){\n          error.insertAfter(\"#message\");\n        }*/\n\n      }\n    });\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const datatype = event.target.getAttribute('data-text');\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    const formerrors = this.state.formerrors;\n    /*  switch (datatype){\n       case 'clientName' : \n            formerrors.clientName = clientnameRegex.test(value)? '' : \"Please enter valid name\";\n            break;\n          case 'clientEmail' : \n           formerrors.clientEmail = emailRegex.test(value)? '' : \"Please enter valid mail address\";\n           break;\n       default :\n       break;\n     }*/\n\n    this.setState({\n      formerrors,\n      [name]: value,\n      \"name\": this.refs.name.value,\n      \"email\": this.refs.email.value,\n      \"Subject\": this.refs.Subject.value,\n      \"message\": this.refs.message.value\n    });\n  }\n\n  Submit(event) {\n    event.preventDefault();\n\n    if ($('#ContactUsForm').valid()) {\n      // var adminEmail = this.getAdminEmail();  //Get email id from company settings. Write API for that.\n      var adminEmail = \"info@iassureit.com\";\n      const formValues1 = {\n        \"email\": this.state.email,\n        \"subject\": \"Your Query/Feedback is sent successfully to www.iassureit.com!\",\n        \"text\": \"\",\n        \"mail\": 'Dear ' + this.state.name + ', <br/><br/>' + \"<b>Your Email: </b>\" + this.state.email + '<br/><br/>' + \"Your following message has been successfully delivered to the admin! We will get back to you shortly. <br/> <br/> \" + \"===============================  <br/> <br/> \" + \"<pre> \" + this.state.message + \"</pre>\" + \" <br/> <br/> =============================== \" + \"<br/><br/> Thank You, <br/> Support Team, <br/> www.iassureit.com \"\n      };\n      console.log(\"notification\", formValues1);\n      axios.post('http://qaiassureitapi.iassureit.com/send-email', formValues1).then(res => {\n        console.log(\"re==\", res);\n\n        if (res.status === 200) {\n          Swal(\"Thank you for contacting us. We will get back to you shortly.\");\n        }\n      }).catch(error => {\n        console.log(\"error = \", error);\n      });\n      const formValues2 = {\n        \"email\": adminEmail,\n        \"subject\": \"New query/feedback arrived from Website!\",\n        \"text\": \"\",\n        \"mail\": 'Dear Admin, <br/>' + \"Following new query/feedback came from website! <br/> <br/> \" + \"============================  <br/> <br/> \" + \"<b>Client Name: </b>\" + this.state.name + '<br/>' + \"<b>Client Email: </b>\" + this.state.email + '<br/><br/>' + \"<pre> \" + this.state.message + \"</pre>\" + \"<br/><br/> ============================ \" + \"<br/><br/> This is a system generated email! \"\n      };\n      console.log(\"notification\", formValues2);\n      axios.post('http://qaiassureitapi.iassureit.com/send-email', formValues2).then(res => {\n        console.log(\"re==\", res);\n\n        if (res.status === 200) {\n          console.log(\"Mail Sent TO ADMIN successfully!\");\n        }\n      }).catch(error => {\n        console.log(\"error = \", error);\n      });\n      this.refs.name.value = \"\";\n      this.refs.email.value = \"\";\n      this.refs.Subject.value = \"\";\n      this.refs.message.value = \"\";\n    }\n  }\n\n  render() {\n    const formerrors = this.state.formerrors;\n    return React.createElement(\"div\", {\n      className: \"container-fluid nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 p49\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"\",\n      id: \"ContactUsForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12  nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  bt30 nopadding\",\n      id: \"formname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"formname\",\n      type: \"text\",\n      ref: \"name\",\n      placeholder: \"Your name\",\n      value: this.state.name,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 bt30 nopadding\",\n      id: \"formemail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"formemail\",\n      type: \"email\",\n      \"data-text\": \"clientEmail\",\n      placeholder: \"Your@email.com\",\n      ref: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 bt30 nopadding\",\n      id: \"subject\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"subject\",\n      type: \"text\",\n      placeholder: \"Subject\",\n      ref: \"Subject\",\n      value: this.state.Subject,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12   nopadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 bt30 nopadding \",\n      id: \"message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      className: \"form-control\",\n      name: \"message\",\n      placeholder: \"How can we help?\",\n      rows: \"6\",\n      ref: \"message\",\n      value: this.state.message,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 nopadding bt40\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"col-lg-3 cusfcmpbtn col-lg-offset-9\",\n      onClick: this.Submit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Send Message\")))));\n  }\n\n}","map":{"version":3,"sources":["/home/iassure/Ref Clone/iAssureIT Website/iAssureITReactCMS/webapp/admin/src/CMS/component/blockTemplate/Contactusform/Contactusform.js"],"names":["React","$","jQuery","axios","Swal","validate","defaults","baseURL","headers","post","ContactUsForm","Component","constructor","props","state","clientName","clientEmail","handleChange","bind","componentDidMount","validator","addMethod","value","element","regexpr","test","rules","formname","required","formemail","emailRegex","subject","message","errorPlacement","error","attr","insertAfter","event","preventDefault","datatype","target","getAttribute","name","formerrors","setState","refs","email","Subject","Submit","valid","adminEmail","formValues1","console","log","then","res","status","catch","formValues2","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './ContactUsForm.css';\nimport $                           from 'jquery';\nimport jQuery                      from 'jquery';\nimport axios \t\t\t\t               from 'axios';\nimport Swal from 'sweetalert';\nimport validate               from 'jquery-validation';\naxios.defaults.baseURL = '';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\n\n/*const formValid = formerrors=>{\n  console.log(\"formerrors\",formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val=>{\n  val.length>0 && (valid = false);\n  })\n  return valid;\n  }\n\nconst clientnameRegex = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\nconst emailRegex = RegExp (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n\n*/\n\nexport default class ContactUsForm extends React.Component {\n\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t     this.state={\n          \"name\"      \t: \"\",\n          \"email\"   \t: \"\",\n          \"Subject\"   \t: \"\",\n          \"message\"     : \"\",\n          \"formerrors\" :{\n              clientName  : \" \",\n              clientEmail : \" \",\n          \n        \n        },\n      };\n        this.handleChange = this.handleChange.bind(this);\n\t}\ncomponentDidMount(){\n    $.validator.addMethod(\"emailRegex\", function(value, element, regexpr) {        \n      return regexpr.test(value);\n    }, \"Please enter valid Email Id\");\n\n    $(\"#ContactUsForm\").validate({\n      rules: {\n        formname: {\n          required: true,\n        }, \n        formemail: {\n          required: true,\n          emailRegex: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n\n        },\n        subject: {\n          required: true,\n        }, \n        message: {\n          required: true,\n        }, \n      },\n      errorPlacement: function(error, element) {\n        if (element.attr(\"name\") == \"formname\"){\n          error.insertAfter(\"#formname\");\n        }\n        if (element.attr(\"name\") == \"formemail\"){\n          error.insertAfter(\"#formemail\");\n        }\n        /*if (element.attr(\"name\") == \"subject\"){\n          error.insertAfter(\"#subject\");\n        }\n        if (element.attr(\"name\") == \"message\"){\n          error.insertAfter(\"#message\");\n        }*/\n      }\n    });\n}\nhandleChange(event){\n      event.preventDefault();\n      const datatype = event.target.getAttribute('data-text');\n      const {name,value} = event.target;\n      const formerrors = this.state.formerrors;\n     /*  switch (datatype){\n        case 'clientName' : \n             formerrors.clientName = clientnameRegex.test(value)? '' : \"Please enter valid name\";\n             break;\n\n          case 'clientEmail' : \n            formerrors.clientEmail = emailRegex.test(value)? '' : \"Please enter valid mail address\";\n            break;\n        default :\n        break;\n      }*/\n      this.setState({ \n      \tformerrors,\n        [name]:value,\n        \"name\"          : this.refs.name.value,\n        \"email\"         : this.refs.email.value,\n        \"Subject\"       : this.refs.Subject.value,\n        \"message\"       : this.refs.message.value,\n      } );\n    }\nSubmit(event){\n    event.preventDefault();\n    if($('#ContactUsForm').valid()){\n\n    // var adminEmail = this.getAdminEmail();  //Get email id from company settings. Write API for that.\n    var adminEmail = \"info@iassureit.com\";\n\n    const formValues1 = {\n        \"email\"         : this.state.email ,\n        \"subject\"       : \"Your Query/Feedback is sent successfully to www.iassureit.com!\",\n        \"text\"          : \"\", \n        \"mail\"          : 'Dear ' + this.state.name + ', <br/><br/>'+\n                          \n                          \"<b>Your Email: </b>\"  + this.state.email + '<br/><br/>'+\n                          \"Your following message has been successfully delivered to the admin! We will get back to you shortly. <br/> <br/> \" + \n                          \"===============================  <br/> <br/> \" + \n                          \"<pre> \" + this.state.message+ \"</pre>\" + \n                          \" <br/> <br/> =============================== \" + \n                          \"<br/><br/> Thank You, <br/> Support Team, <br/> www.iassureit.com \" ,\n\n      };\n      console.log(\"notification\",formValues1); \n      \n        axios\n        .post('http://qaiassureitapi.iassureit.com/send-email',formValues1)\n        .then((res)=>{\n          console.log(\"re==\",res);\n                   if(res.status === 200){\n                    Swal(\"Thank you for contacting us. We will get back to you shortly.\")\n                    }\n                })\n                .catch((error)=>{\n                  console.log(\"error = \", error);\n                  \n                });\n             \n       const formValues2 = {\n        \"email\"         : adminEmail ,\n        \"subject\"       : \"New query/feedback arrived from Website!\",\n        \"text\"          : \"\",\n        \"mail\"          : 'Dear Admin, <br/>'+\n                          \"Following new query/feedback came from website! <br/> <br/> \" + \n                          \"============================  <br/> <br/> \" + \n                          \"<b>Client Name: </b>\"   + this.state.name + '<br/>'+\n                          \n                          \"<b>Client Email: </b>\"  + this.state.email + '<br/><br/>'+\n\n                          \"<pre> \" + this.state.message + \"</pre>\" + \n                          \"<br/><br/> ============================ \" + \n                          \"<br/><br/> This is a system generated email! \" ,\n\n      };\n      console.log(\"notification\",formValues2); \n      \n        axios\n        .post('http://qaiassureitapi.iassureit.com/send-email',formValues2)\n        .then((res)=>{\n          console.log(\"re==\",res);\n            \n                  if(res.status === 200){\n                    console.log(\"Mail Sent TO ADMIN successfully!\")\n                  }\n                })\n                .catch((error)=>{\n                  console.log(\"error = \", error);\n                  \n                });\n           \n               this.refs.name.value  = \"\";\n                this.refs.email.value = \"\";\n                this.refs.Subject.value = \"\";\n                this.refs.message.value = \"\";\n              }\n    }\n\trender() {\n\t\tconst {formerrors} = this.state;\n\t\treturn (\n\t\t\t<div className=\"container-fluid nopadding\" >\n\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 p49\">\n\t\t\t\t\t\t\t<form className=\"\" id=\"ContactUsForm\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12  nopadding\" >\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  bt30 nopadding\" id=\"formname\">\n\t\t\t\t\t\t\t\t\t\t<input className=\"form-control\" name=\"formname\" type=\"text\" ref=\"name\" placeholder=\"Your name\" value={this.state.name} onChange={this.handleChange.bind(this)}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 nopadding\">\n\t\t\t\t\t\t\t\t\t <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 bt30 nopadding\" id=\"formemail\">\n\t\t\t\t\t\t\t\t\t\t<input className=\"form-control\" name=\"formemail\" type=\"email\" data-text=\"clientEmail\" placeholder=\"Your@email.com\" ref=\"email\" value={this.state.email} onChange={this.handleChange.bind(this)}/>\n\t\t\t\t\t\t\t\t\t </div>\n                </div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  nopadding\">\n                     <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 bt30 nopadding\" id=\"subject\">\n\t\t\t\t\t\t\t\t\t\t  <input className=\"form-control\" name=\"subject\" type=\"text\" placeholder=\"Subject\" ref=\"Subject\" value={this.state.Subject} onChange={this.handleChange.bind(this)} />\n\t\t\t\t\t\t\t\t    </div>\n                </div>\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12   nopadding\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 bt30 nopadding \" id=\"message\" >\n\t\t\t\t\t\t\t\t      <textarea className=\"form-control\" name=\"message\" placeholder=\"How can we help?\" rows=\"6\" ref=\"message\" value={this.state.message} onChange={this.handleChange.bind(this)} ></textarea>      \n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 nopadding bt40\">\n\t\t\t\t\t\t\t\t\n                    <button type=\"button\" className=\"col-lg-3 cusfcmpbtn col-lg-offset-9\" onClick={this.Submit.bind(this)}>Send Message</button>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\n\t\t\t\t</div>\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}