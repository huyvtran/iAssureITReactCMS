{"ast":null,"code":"var _jsxFileName = \"/home/iassure/Ref Clone/iAssureIT Website/iAssureITReactCMS/webapp/admin/src/component/createnewblock/ViewBlock_3.js\";\nimport React, { Component, Suspense } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport CircleBlockMenuBars from './circleblockmenubars.js';\nexport default class ViewBlock_3 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageData: {},\n      Blocks: [],\n      blocks: \"\",\n      ListOfBlocks: \"\",\n      ListOfpages: \"\"\n    };\n  }\n\n  componentDidMount() {\n    var pageUrl = window.location.pathname;\n    ; // console.log(\"pageUrl = \",pageUrl);\n\n    let a = pageUrl ? pageUrl.split('/') : \"\"; // console.log(\"a==>\",a[1]); \n\n    const urlParam = a[1]; // console.log(\"urlParam  == \",urlParam);\n\n    axios.get('/api/blocks/get/list').then(response => {\n      console.log(\"AllBloks=\", response.data);\n      this.setState({\n        ListOfBlocks: response.data\n      }, () => {\n        console.log(\"======>\", this.state.ListOfBlocks);\n      });\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n    axios.get('/api/pages/get/list').then(response => {\n      // console.log(\"AllBlogs=\",response.data);\n      this.setState({\n        ListOfpages: response.data\n      }, () => {// console.log(\"======>\",this.state.ListOfBlocks);\n      });\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n  }\n\n  deleteblock(event) {\n    event.preventDefault();\n    var URL = event.target.id;\n    var idArray = []; // console.log(\"ListOfpages\", this.state.ListOfpages );\n\n    let filteredBlocks = this.state.ListOfpages.filter(function (user) {\n      return user.pageBlocks.filter(child => {\n        if (URL == child.block_id) {\n          idArray.push(child._id);\n        }\n\n        return URL == child.block_id;\n      }).length != 0;\n    }); //console.log('idArray',idArray);\n\n    console.log('filteredBlocks', filteredBlocks);\n    var titleArray = [];\n    filteredBlocks.map((data, index) => {\n      titleArray.push(data.pageTitle);\n    });\n    var urlArray = [];\n    filteredBlocks.map((data, index) => {\n      urlArray.push(data.pageURL);\n    });\n    var deleteValues = {\n      \"pageBlocks_id\": idArray[0] //console.log('titleArray',titleArray)\n\n    };\n\n    if (filteredBlocks.length > 0) {\n      swal({\n        title: \"You can not delete this block as it is present in following pages\",\n        text: \"* \" + titleArray.join(', '),\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(success => {\n        if (success) {\n          axios.patch('/api/pages/patch/blocks/remove/' + urlArray[0], deleteValues).then(response => {\n            // this.getListOfPages();\n            swal({\n              title: \"Are you sure you want to delete this Block\",\n              text: \"..\",\n              icon: \"warning\",\n              buttons: true,\n              dangerMode: true\n            }).then(success => {\n              axios.delete(\"/api/blocks/delete/\" + URL).then(response => {\n                // this.getListOfPages();\n                swal(\"Your block is deleted\");\n                window.location.reload();\n              }).catch(error => {\n                console.log(\"error = \", error);\n              }); // swal(\"Your block is deleted from page \");\n            });\n          }).catch(error => {\n            console.log(\"error = \", error);\n          });\n        } else {\n          swal(\"Your Block is safe!\");\n        }\n      });\n    } else {\n      swal({\n        title: \"Are you sure you want to delete this Block is present in some pages?\",\n        text: \"Once deleted, you will not be able to recover this Block!\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(success => {\n        if (success) {\n          axios.delete(\"/api/blocks/delete/\" + URL).then(response => {\n            // this.getListOfPages();\n            swal(\"Your Page is deleted!\");\n            window.location.reload();\n          }).catch(error => {\n            console.log(\"error = \", error);\n          });\n        } else {\n          swal(\"Your Block is safe!\");\n        }\n      });\n    }\n  }\n\n  render() {\n    var data = this.state.pageData;\n    return React.createElement(\"div\", {\n      className: \"contentWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" txtCenter col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Select Required Block from Following list \")), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(CircleBlockMenuBars, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, this.state.ListOfBlocks && this.state.ListOfBlocks.length > 0 ? this.state.ListOfBlocks.map((result, index) => {\n      var component = result.blockComponentName ? result.blockComponentName : \"TitleDesc\";\n      const NewPageComponent = React.lazy(() => import('../blockTemplate/' + component + '/' + component + '.js'));\n      var block_id = result._id;\n      return React.createElement(Suspense, {\n        fallback: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, \"Loading...\"),\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-trash deletIcon pull-right\",\n        id: block_id,\n        onClick: this.deleteblock.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), \"\\xA0\\xA0\\xA0\\xA0\", React.createElement(NewPageComponent, {\n        block_id: block_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }));\n    }) : null))));\n  }\n\n}","map":{"version":3,"sources":["/home/iassure/Ref Clone/iAssureIT Website/iAssureITReactCMS/webapp/admin/src/component/createnewblock/ViewBlock_3.js"],"names":["React","Component","Suspense","Route","withRouter","swal","axios","CircleBlockMenuBars","ViewBlock_3","constructor","props","state","pageData","Blocks","blocks","ListOfBlocks","ListOfpages","componentDidMount","pageUrl","window","location","pathname","a","split","urlParam","get","then","response","console","log","data","setState","catch","error","deleteblock","event","preventDefault","URL","target","id","idArray","filteredBlocks","filter","user","pageBlocks","child","block_id","push","_id","length","titleArray","map","index","pageTitle","urlArray","pageURL","deleteValues","title","text","join","icon","buttons","dangerMode","success","patch","delete","reload","render","result","component","blockComponentName","NewPageComponent","lazy","bind"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\n\nimport {Route, withRouter} from 'react-router-dom';\nimport swal from 'sweetalert';\n\nimport axios        from 'axios';\nimport CircleBlockMenuBars from './circleblockmenubars.js';\n\n\nexport default class ViewBlock_3 extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpageData \t : {},\n\t\t\tBlocks \t\t : [],\n\t\t\tblocks \t\t : \"\",\n\t\t\tListOfBlocks : \"\",\n\t\t\tListOfpages  : \"\"\n\t\t}; \n\t}\ncomponentDidMount(){\n\t\tvar pageUrl = window.location.pathname;;\n\t\t// console.log(\"pageUrl = \",pageUrl);\n\t\tlet a = pageUrl ? pageUrl.split('/') : \"\";\n        // console.log(\"a==>\",a[1]); \n        const urlParam =a[1];\n        // console.log(\"urlParam  == \",urlParam);\n        axios\n        .get('/api/blocks/get/list')\n        .then((response)=>{\n\t\t\t\t\t\t        console.log(\"AllBloks=\",response.data);\n\t\t\t\t\t\t      \tthis.setState({\n\t\t\t\t\t      \t\t\tListOfBlocks:response.data\n\t\t\t\t\t      \t\t},()=>{\n\t\t\t\t\t      \t\t\t\tconsole.log(\"======>\",this.state.ListOfBlocks);\n\t\t\t\t\t      \t\t});\n\t\t\t\t\t      \t})\n\t\t\t  \t.catch(function (error) {\n\t\t\t    // handle error\n\t\t\t    \tconsole.log(error);\n\t\t\t  \t});\n\n\t\t\taxios\n\t\t\t\t.get('/api/pages/get/list')\n\t\t\t\t.then((response)=>{\n\t\t\t\t\t\t        // console.log(\"AllBlogs=\",response.data);\n\t\t\t\t\t\t      \tthis.setState({\n\t\t\t\t\t      \t\t\tListOfpages:response.data\n\t\t\t\t\t      \t\t},()=>{\n\t\t\t\t\t      \t\t\t\t// console.log(\"======>\",this.state.ListOfBlocks);\n\t\t\t\t\t      \t\t});\n\t\t\t\t\t      \t})\n\t\t\t  \t.catch(function (error) {\n\t\t\t    // handle error\n\t\t\t    \tconsole.log(error);\n\t\t\t  \t});\n}\ndeleteblock(event){\n\tevent.preventDefault();\n\tvar URL= event.target.id;\n\tvar idArray =[];\n\t// console.log(\"ListOfpages\", this.state.ListOfpages );\n\n\tlet filteredBlocks = this.state.ListOfpages.filter( function (user) {\n\t\treturn user.pageBlocks.filter((child)=>{\n\t\t\tif(URL == child.block_id){idArray.push(child._id)}\n\t\t\treturn URL == child.block_id\n\t\t}).length != 0\n       \n    });\n    //console.log('idArray',idArray);\n    console.log('filteredBlocks',filteredBlocks);\n    var titleArray = [];\n    filteredBlocks.map((data,index)=>{\n    \ttitleArray.push(data.pageTitle);\n    })\n    var urlArray = [];\n    filteredBlocks.map((data,index)=>{\n    \turlArray.push(data.pageURL);\n    })\n    var deleteValues ={\n\t      \"pageBlocks_id\":idArray[0]\n\t\t\t}\n\n    //console.log('titleArray',titleArray)\n    \n    if (filteredBlocks.length>0) {\n    \tswal({\n\t          title: \"You can not delete this block as it is present in following pages\",\n\t          text: \"* \"+titleArray.join(', '),\n\t          icon: \"warning\",\n\t          buttons: true,\n\t          dangerMode: true,\n\t        })\n    \t\t.then((success) => {\n\n\t\t            if (success) {\n\t\t            \taxios\n\t\t\t\t\t    .patch('/api/pages/patch/blocks/remove/'+urlArray[0],deleteValues)\n\t\t\t\t\t    .then((response)=>{\n\t\t\t\t\t     \t// this.getListOfPages();\n\t\t\t\t\t     \tswal({\n\t\t\t\t\t\t          title: \"Are you sure you want to delete this Block\",\n\t\t\t\t\t\t          text: \"..\",\n\t\t\t\t\t\t          icon: \"warning\",\n\t\t\t\t\t\t          buttons: true,\n\t\t\t\t\t\t          dangerMode: true,\n\t\t\t\t\t\t        })\n\t\t\t\t\t    \t\t.then((success) => {\n\t\t\t\t\t\t\t\t\taxios\n\t\t\t\t\t\t\t\t\t   .delete(\"/api/blocks/delete/\"+URL)\n\t\t\t\t\t\t\t\t\t   .then((response)=>{\n\t\t\t\t\t\t\t\t\t    // this.getListOfPages();\n\t\t\t\t\t\t\t\t\t      swal(\"Your block is deleted\");\n\t\t\t\t\t\t\t\t\t      window.location.reload();\n\t\t\t\t\t\t\t\t\t   })\n\t\t\t\t\t\t\t\t\t   .catch((error)=>{\n\t\t\t\t\t\t\t\t\t      console.log(\"error = \", error);              \n\t\t\t\t\t\t\t\t\t   });\n\t\t\t\t\t\t\t\t\t// swal(\"Your block is deleted from page \");\n\t\t\t\t\t    \t\t\t});\n\t\t\t\t\t    \t\t \n\t\t\t\t\t       \t \n\t\t\t\t\t    })\n\t\t\t\t\t    .catch((error)=>{\n\t\t\t\t\t       console.log(\"error = \", error);              \n\t\t\t\t\t    });\n\n\t\t           \n\t\t           \n\t\t             \n\t\t            } else {\n\t\t            swal(\"Your Block is safe!\");\n\t\t          }\n\t\t        });\n    \t}\n    \telse{\n    \tswal({\n\t          title: \"Are you sure you want to delete this Block is present in some pages?\",\n\t          text: \"Once deleted, you will not be able to recover this Block!\",\n\n\t          icon: \"warning\",\n\t          buttons: true,\n\t          dangerMode: true,\n\t        })\n    \t.then((success) => {\n\n\t            if (success) {\n\t            axios\n\t\t\t\t   .delete(\"/api/blocks/delete/\"+URL)\n\t\t\t\t   .then((response)=>{\n\t\t\t\t    // this.getListOfPages();\n\t\t\t\t      swal(\"Your Page is deleted!\");\n\t\t\t\t      window.location.reload();\n\t\t\t\t   })\n\t\t\t\t   .catch((error)=>{\n\t\t\t\t      console.log(\"error = \", error);              \n\t\t\t\t   });\n\t           \n\t             \n\t            } else {\n\t            swal(\"Your Block is safe!\");\n\t          }\n\t        });\n\t\n    \t}\n\n\t}\n\trender() {\n\t\tvar data= this.state.pageData;\n\n\t\treturn (\n\t\t\t<div className=\"contentWrapper\">\n\t\t\t\t\t<div className=\"box-body\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\" txtCenter col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<h2 className=\"text-center\">Select Required Block from Following list </h2>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<CircleBlockMenuBars />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.state.ListOfBlocks && this.state.ListOfBlocks.length> 0\n\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\tthis.state.ListOfBlocks.map((result, index)=>{\n\t\t\t\t\t\t\t\t\t\t\tvar component = result.blockComponentName ? result.blockComponentName : \"TitleDesc\";\n\t\t\t\t\t\t\t\t\t\t\tconst NewPageComponent = React.lazy(() => import('../blockTemplate/'+component+'/'+component+'.js'));\n\t\t\t\t\t\t\t\t\t\t\tvar block_id=result._id;\n\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t<Suspense fallback={<div>Loading...</div>} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-trash deletIcon pull-right\" id={block_id} onClick={this.deleteblock.bind(this)}></i>&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t    \t\t<NewPageComponent block_id={block_id}/>\n\t\t\t\t\t\t\t\t\t\t    \t</Suspense>\n\t\t\t\t\t\t\t\t\t    \t)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}