{"ast":null,"code":"var _jsxFileName = \"/home/iassure/Ref Clone/iAssureIT Website/iAssureITReactCMS/webapp/admin/src/CMS/component/createnewblock/ViewBlock_3.js\";\nimport React, { Component, Suspense } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport CircleBlockMenuBars from './circleblockmenubars.js'; // this._isMounted = false;\n\nexport default class ViewBlock_3 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageData: {},\n      Blocks: [],\n      blocks: \"\",\n      ListOfBlocks: \"\",\n      ListOfpages: \"\"\n    };\n  }\n\n  getAllBlockList() {\n    axios.get('/api/blocks/get/list').then(response => {\n      console.log(\"AllBloks=\", response.data);\n      this.setState({\n        ListOfBlocks: response.data.reverse()\n      }, () => {\n        console.log(\"======>\", this.state.ListOfBlocks);\n      });\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n    axios.get('/api/pages/get/list').then(response => {\n      // console.log(\"AllBlogs=\",response.data);\n      this.setState({\n        ListOfpages: response.data\n      }, () => {// console.log(\"======>\",this.state.ListOfBlocks);\n      });\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    // this._isMounted = true;\n    var pageUrl = window.location.pathname;\n    ; // console.log(\"pageUrl = \",pageUrl);\n\n    let a = pageUrl ? pageUrl.split('/') : \"\"; // console.log(\"a==>\",a[1]); \n\n    const urlParam = a[1]; // console.log(\"urlParam  === \",urlParam);\n\n    this.getAllBlockList();\n  }\n\n  deleteblock(event) {\n    event.preventDefault();\n    var URL = event.target.id;\n    var idArray = []; // console.log(\"ListOfpages\", this.state.ListOfpages );\n\n    let filteredBlocks = this.state.ListOfpages.filter(function (user) {\n      return user.pageBlocks.filter(child => {\n        if (URL === child.block_id) {\n          idArray.push(child._id);\n        }\n\n        return URL === child.block_id;\n      }).length !== 0;\n    }); //console.log('idArray',idArray);\n\n    console.log('filteredBlocks', filteredBlocks);\n    var titleArray = [];\n    filteredBlocks.map((data, index) => {\n      titleArray.push(data.pageTitle);\n    });\n    var urlArray = [];\n    filteredBlocks.map((data, index) => {\n      urlArray.push(data.pageURL);\n    });\n    var deleteValues = {\n      \"pageBlocks_id\": idArray[0] //console.log('titleArray',titleArray)\n\n    };\n\n    if (filteredBlocks.length > 0) {\n      swal({\n        title: \"You can not delete this block as it is present in following pages\",\n        text: \"* \" + titleArray.join(', '),\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(success => {\n        if (success) {\n          axios.patch('/api/pages/patch/blocks/remove/' + urlArray[0], deleteValues).then(response => {\n            // this.getListOfPages();\n            swal({\n              title: \"Are you sure you want to delete this Block\",\n              text: \"..\",\n              icon: \"warning\",\n              buttons: true,\n              dangerMode: true\n            }).then(success => {\n              axios.delete(\"/api/blocks/delete/\" + URL).then(response => {\n                // this.getListOfPages();\n                swal(\"Your block is deleted\");\n                this.getAllBlockList();\n              }).catch(error => {\n                console.log(\"error = \", error);\n              }); // swal(\"Your block is deleted from page \");\n            });\n          }).catch(error => {\n            console.log(\"error = \", error);\n          });\n        } else {\n          swal(\"Your Block is safe!\");\n        }\n      });\n    } else {\n      swal({\n        title: \"Are you sure you want to delete this Block is present in some pages?\",\n        text: \"Once deleted, you will not be able to recover this Block!\",\n        buttons: true,\n        dangerMode: true\n      }).then(success => {\n        if (success) {\n          axios.delete(\"/api/blocks/delete/\" + URL).then(response => {\n            // this.getListOfPages();\n            this.getAllBlockList();\n            swal(\"Your block is deleted!\");\n          }).catch(error => {\n            console.log(\"error = \", error);\n          });\n        } else {\n          swal(\"Your Block is safe!\");\n        }\n      });\n    }\n  }\n\n  render() {\n    var data = this.state.pageData;\n    return React.createElement(\"div\", {\n      className: \"contentWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(CircleBlockMenuBars, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, this.state.ListOfBlocks && this.state.ListOfBlocks.length > 0 ? this.state.ListOfBlocks.map((result, index) => {\n      var component = result.blockComponentName ? result.blockComponentName : \"TitleDesc\";\n      const NewPageComponent = React.lazy(() => import('../blockTemplate/' + component + '/' + component + '.js'));\n      var block_id = result._id;\n      return React.createElement(Suspense, {\n        fallback: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, \"Loading...\"),\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-trash deletIcon pull-right fsm15\",\n        id: block_id,\n        onClick: this.deleteblock.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), \"\\xA0\\xA0\\xA0\\xA0\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(NewPageComponent, {\n        block_id: block_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }));\n    }) : null))));\n  }\n\n}","map":{"version":3,"sources":["/home/iassure/Ref Clone/iAssureIT Website/iAssureITReactCMS/webapp/admin/src/CMS/component/createnewblock/ViewBlock_3.js"],"names":["React","Component","Suspense","Route","withRouter","swal","axios","CircleBlockMenuBars","ViewBlock_3","constructor","props","state","pageData","Blocks","blocks","ListOfBlocks","ListOfpages","getAllBlockList","get","then","response","console","log","data","setState","reverse","catch","error","componentDidMount","pageUrl","window","location","pathname","a","split","urlParam","deleteblock","event","preventDefault","URL","target","id","idArray","filteredBlocks","filter","user","pageBlocks","child","block_id","push","_id","length","titleArray","map","index","pageTitle","urlArray","pageURL","deleteValues","title","text","join","icon","buttons","dangerMode","success","patch","delete","render","result","component","blockComponentName","NewPageComponent","lazy","bind"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\n\nimport {Route, withRouter} from 'react-router-dom';\nimport swal from 'sweetalert';\n\nimport axios        from 'axios';\nimport CircleBlockMenuBars from './circleblockmenubars.js';\n\n\n// this._isMounted = false;\nexport default class ViewBlock_3 extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpageData \t : {},\n\t\t\tBlocks \t\t : [],\n\t\t\tblocks \t\t : \"\",\n\t\t\tListOfBlocks : \"\",\n\t\t\tListOfpages  : \"\"\n\t\t}; \n\t}\n\n\tgetAllBlockList(){\n\t\taxios\n        .get('/api/blocks/get/list')\n        .then((response)=>{\n\t\t\t\t\t\t        console.log(\"AllBloks=\",response.data);\n\t\t\t\t\t\t      \tthis.setState({\n\t\t\t\t\t      \t\t\tListOfBlocks:response.data.reverse()\n\t\t\t\t\t      \t\t},()=>{\n\t\t\t\t\t      \t\t\t\tconsole.log(\"======>\",this.state.ListOfBlocks);\n\t\t\t\t\t      \t\t});\n\t\t\t\t\t      \t})\n\t\t\t  \t.catch(function (error) {\n\t\t\t    // handle error\n\t\t\t    \tconsole.log(error);\n\t\t\t  \t});\n\n\t\t\taxios\n\t\t\t\t.get('/api/pages/get/list')\n\t\t\t\t.then((response)=>{\n\t\t\t\t\t\t        // console.log(\"AllBlogs=\",response.data);\n\t\t\t\t\t\t      \tthis.setState({\n\t\t\t\t\t      \t\t\tListOfpages:response.data\n\t\t\t\t\t      \t\t},()=>{\n\t\t\t\t\t      \t\t\t\t// console.log(\"======>\",this.state.ListOfBlocks);\n\t\t\t\t\t      \t\t});\n\t\t\t\t\t      \t})\n\t\t\t  \t.catch(function (error) {\n\t\t\t    // handle error\n\t\t\t    \tconsole.log(error);\n\t\t\t  \t});\n\n\t}\n\tcomponentDidMount(){\n\t // this._isMounted = true;\n\t\tvar pageUrl = window.location.pathname;;\n\t\t// console.log(\"pageUrl = \",pageUrl);\n\t\tlet a = pageUrl ? pageUrl.split('/') : \"\";\n        // console.log(\"a==>\",a[1]); \n        const urlParam =a[1];\n        // console.log(\"urlParam  === \",urlParam);\n        this.getAllBlockList();\n\n\t}\n\t\n\tdeleteblock(event){\n\t\tevent.preventDefault();\n\t\tvar URL= event.target.id;\n\t\tvar idArray =[];\n\t\t// console.log(\"ListOfpages\", this.state.ListOfpages );\n\n\t\tlet filteredBlocks = this.state.ListOfpages.filter( function (user) {\n\t\t\treturn user.pageBlocks.filter((child)=>{\n\t\t\t\tif(URL === child.block_id){idArray.push(child._id)}\n\t\t\t\treturn URL === child.block_id\n\t\t\t}).length !== 0\n\t       \n\t    });\n\t    //console.log('idArray',idArray);\n\t    console.log('filteredBlocks',filteredBlocks);\n\t    var titleArray = [];\n\t    filteredBlocks.map((data,index)=>{\n\t    \ttitleArray.push(data.pageTitle);\n\t    })\n\t    var urlArray = [];\n\t    filteredBlocks.map((data,index)=>{\n\t    \turlArray.push(data.pageURL);\n\t    })\n\t    var deleteValues ={\n\t\t      \"pageBlocks_id\":idArray[0]\n\t\t\t\t}\n\n\t    //console.log('titleArray',titleArray)\n\t    \n\t    if (filteredBlocks.length>0) {\n\t    \tswal({\n\t\t          title: \"You can not delete this block as it is present in following pages\",\n\t\t          text: \"* \"+titleArray.join(', '),\n\t\t          icon: \"warning\",\n\t\t          buttons: true,\n\t\t          dangerMode: true,\n\t\t        })\n\t    \t\t.then((success) => {\n\n\t\t\t            if (success) {\n\t\t\t            \taxios\n\t\t\t\t\t\t    .patch('/api/pages/patch/blocks/remove/'+urlArray[0],deleteValues)\n\t\t\t\t\t\t    .then((response)=>{\n\t\t\t\t\t\t     \t// this.getListOfPages();\n\t\t\t\t\t\t     \tswal({\n\t\t\t\t\t\t\t          title: \"Are you sure you want to delete this Block\",\n\t\t\t\t\t\t\t          text: \"..\",\n\t\t\t\t\t\t\t          icon: \"warning\",\n\t\t\t\t\t\t\t          buttons: true,\n\t\t\t\t\t\t\t          dangerMode: true,\n\t\t\t\t\t\t\t        })\n\t\t\t\t\t\t    \t\t.then((success) => {\n\t\t\t\t\t\t\t\t\t\taxios\n\t\t\t\t\t\t\t\t\t\t   .delete(\"/api/blocks/delete/\"+URL)\n\t\t\t\t\t\t\t\t\t\t   .then((response)=>{\n\t\t\t\t\t\t\t\t\t\t    // this.getListOfPages();\n\t\t\t\t\t\t\t\t\t\t      swal(\"Your block is deleted\");\n        \t\t\t\t\t\t\t\t\t\tthis.getAllBlockList();\n\t\t\t\t\t\t\t\t\t\t      \n\t\t\t\t\t\t\t\t\t\t   })\n\t\t\t\t\t\t\t\t\t\t   .catch((error)=>{\n\t\t\t\t\t\t\t\t\t\t      console.log(\"error = \", error);              \n\t\t\t\t\t\t\t\t\t\t   });\n\t\t\t\t\t\t\t\t\t\t// swal(\"Your block is deleted from page \");\n\t\t\t\t\t\t    \t\t\t});\n\t\t\t\t\t\t    \t\t \n\t\t\t\t\t\t       \t \n\t\t\t\t\t\t    })\n\t\t\t\t\t\t    .catch((error)=>{\n\t\t\t\t\t\t       console.log(\"error = \", error);              \n\t\t\t\t\t\t    });\n\n\t\t\t           \n\t\t\t           \n\t\t\t             \n\t\t\t            } else {\n\t\t\t            swal(\"Your Block is safe!\");\n\t\t\t          }\n\t\t\t        });\n\t    \t}\n\t    \telse{\n\t    \tswal({\n\t\t          title: \"Are you sure you want to delete this Block is present in some pages?\",\n\t\t          text: \"Once deleted, you will not be able to recover this Block!\",\n\t\t          buttons: true,\n\t\t          dangerMode: true,\n\t\t        })\n\t    \t.then((success) => {\n\n\t\t            if (success) {\n\t\t            axios\n\t\t\t\t\t   .delete(\"/api/blocks/delete/\"+URL)\n\t\t\t\t\t   .then((response)=>{\n\t\t\t\t\t    // this.getListOfPages();\n\t\t\t\t\t    this.getAllBlockList();\n\t\t\t\t\t      swal(\"Your block is deleted!\");\n\t\t\t\t\t     \n\t\t\t\t\t   })\n\t\t\t\t\t   .catch((error)=>{\n\t\t\t\t\t      console.log(\"error = \", error);              \n\t\t\t\t\t   });\n\t\t           \n\t\t             \n\t\t            } else {\n\t\t            swal(\"Your Block is safe!\");\n\t\t          }\n\t\t        });\n\t\t\n\t    \t}\n\n\t}\n\n\trender() {\n\t\t\tvar data= this.state.pageData;\n\n\t\t\treturn (\n\t\t\t\t<div className=\"contentWrapper\">\n\t\t\t\t\t\t<div className=\"box-body\">\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<CircleBlockMenuBars />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.ListOfBlocks && this.state.ListOfBlocks.length> 0\n\t\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\t\tthis.state.ListOfBlocks.map((result, index)=>{\n\t\t\t\t\t\t\t\t\t\t\t\tvar component = result.blockComponentName ? result.blockComponentName : \"TitleDesc\";\n\t\t\t\t\t\t\t\t\t\t\t\tconst NewPageComponent = React.lazy(() => import('../blockTemplate/'+component+'/'+component+'.js'));\n\t\t\t\t\t\t\t\t\t\t\t\tvar block_id=result._id;\n\t\t\t\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Suspense fallback={<div>Loading...</div>} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-trash deletIcon pull-right fsm15\" id={block_id} onClick={this.deleteblock.bind(this)}></i>&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t\t    \t\t<NewPageComponent block_id={block_id}/>\n\t\t\t\t\t\t\t\t\t\t\t    \t</Suspense>\n\t\t\t\t\t\t\t\t\t\t    \t)\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n"]},"metadata":{},"sourceType":"module"}